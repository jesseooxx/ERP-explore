# 產品主檔 (tem01) 欄位完整對照表

## 從 ERP UI 截圖反向工程

**來源**: 產品基本資料維護視窗
**產品範例**: 074027 (740 SW 60)
**資料庫表**: tem01

---

## UI 欄位 → SQL 欄位對照

### 基本資訊區塊

| UI 欄位名稱 | 顯示值 | SQL 欄位 | 資料型態 | 說明 |
|------------|--------|----------|----------|------|
| **產品編號** | 074027 | ea02 或 ea01 | varchar(20) | 主鍵 |
| **產品名稱** | 740 SW 60<br>FINISHED SOCKET | ea03 + (可能 ea07/ea08) | varchar | 多行名稱 |
| **產品大類** | 10001 | ea05 | varchar(3-10) | 產品分類代碼 |
| **產品型錄** | TAIWAN | ea06 | varchar(5-10) | 型錄分類 |
| **產品來源** | 1 國內採購 | ea040 或 ea041 | char(1) | 1=國內, 其他=進口 |

### 價格資訊區塊

| UI 欄位名稱 | 顯示值 | SQL 欄位 | 資料型態 | 說明 |
|------------|--------|----------|----------|------|
| **國內訂價** | NT$ 261.14 | ea20 或 ea25 | float | 本地售價 |
| **出口訂價** | US$ 10.76 | ea21 或 ea26 | float | 外銷價格 |
| **業務成本** | NT$ 261.14 | ea16/ea17 | float | 成本價 |

---

## tem01 完整欄位清單

### 已知欄位 (從 SQL 結構)

| 欄位 | 型態 | 長度 | 可能用途 |
|------|------|------|----------|
| ea01 | varchar | 10 | 產品編號 (備用?) |
| **ea02** | **char** | **1** | **類型代碼 (I=Item?)** |
| ea03 | varchar | 8 | 日期或代碼 |
| ea040 | char | 1 | 產品來源 (1=國內) |
| ea041 | varchar | 10 | 產品來源說明 |
| ea05 | varchar | 3 | 產品大類 |
| ea06 | varchar | 5 | 產品型錄 |
| ea07 | varchar | 30 | 產品名稱第1行 |
| ea08 | varchar | 20 | 產品名稱第2行 |
| ea09 | char | 1 | 狀態碼 |
| ea10 | varchar | 10 | (未知) |
| ea11-ea16 | varchar | 20 | (未知) |
| ea17 | varchar | 6 | (未知) |
| ea18 | varchar | 26 | (未知) |
| ea19 | varchar | 5 | 幣別? |
| ea20 | float | - | 價格1 (可能是國內訂價) |
| ea21 | float | - | 價格2 (可能是出口訂價) |
| ea22 | float | - | 價格3 |
| ea23-ea24 | varchar | 10 | (未知) |
| ea241 | varchar | 2 | (未知) |
| ea25-ea30 | float | - | 各種價格或數量 |
| ea31 | int | - | 數值參數 |
| ea32 | varchar | 8 | 日期 |
| ea33-ea35 | varchar | 80 | 備註欄位 |
| ea360-ea363 | char | 1 | 狀態標記 |
| ea37-ea38 | float | - | 統計數值 |
| ea39-ea40 | char | 1 | 標記 |
| ea41-ea42 | float | - | 數值 |
| ea43 | varchar | 11 | (未知) |
| ea44-ea45 | varchar | 1-3 | (未知) |
| ea46 | varchar | 6 | (未知) |
| ea48-ea49 | varchar | 2 | (未知) |

---

## 根據 UI 推測的正確對照

基於 tfm01 的命名規則 (fa01=編號, fa02=類型, fa03=日期...)，
推測 tem01 應該是：

| SQL 欄位 | 推測用途 | UI 欄位 |
|----------|----------|---------|
| **ea01** | **產品編號** | 產品編號: 074027 |
| ea02 | 類型 | (內部使用) |
| ea03 | 建立日期 | (系統自動) |
| ea05 | 產品大類 | 產品大類: 10001 |
| ea06 | 產品型錄 | 產品型錄: TAIWAN |
| ea07 | 產品名稱行1 | 產品名稱: 740 SW 60 |
| ea08 | 產品名稱行2 | FINISHED SOCKET |
| ea040 | 產品來源類型 | 產品來源: 1 |
| ea041 | 產品來源說明 | 國內採購 |
| ea20 | 國內訂價 | 國內訂價: NT$ 261.14 |
| ea21 | 出口訂價 | 出口訂價: US$ 10.76 |
| ea?? | 業務成本 | 業務成本: NT$ 261.14 |

---

## 查詢 284102 的完整 SQL

```sql
-- 方案 1: 如果 ea01 是主鍵
SELECT * FROM tem01 WHERE ea01 = '284102';

-- 方案 2: 如果有其他產品編號欄位
SELECT * FROM tem01 WHERE ea02 = '284102' OR ea07 LIKE '%284102%';

-- 方案 3: 模糊搜尋
SELECT ea01, ea02, ea03, ea05, ea06, ea07, ea08
FROM tem01
WHERE ea01 LIKE '%284102%'
   OR ea07 LIKE '%284102%'
   OR ea08 LIKE '%284102%';

-- 查詢產品的所有關聯資料
SELECT 'tem01產品主檔' AS 來源, COUNT(*) AS 筆數 FROM tem01 WHERE ea01 = '284102' UNION ALL
SELECT 'tem04產品BOM', COUNT(*) FROM tem04 WHERE ed011 = '284102' UNION ALL
SELECT 'tem05訂單BOM', COUNT(*) FROM tem05 WHERE ee02 = '284102' UNION ALL
SELECT 'tfm02訂單明細', COUNT(*) FROM tfm02 WHERE fb03 = '284102';
```

---

## 已知 284102 的資料 (從訂單明細)

### 從 tfm02 得知：

| 欄位 | 值 |
|------|-----|
| 產品編號 (fb03) | 284102 |
| 品名 (fb06) | (空白或在其他欄位) |
| 訂購數量 (fb09) | 1000 PC |
| 單位 (fb10) | PC |

### 從 tem05 得知的組合：

| 序號 | 組件編號 | 比例 | 供應商 |
|------|----------|------|--------|
| 3 | 284102-MAIN | 1:1 | 2279 |
| 1 | 284102-BAG LABEL | 1:100 | 02291 |
| (推測) | 284102-CTN LABEL | 1:1000 | 02291 |

---

## 下一步：查詢完整資料

由於本地資料庫是 2017 年備份，284102 不存在。

**需要做的**：
1. 連接正式環境 (192.168.252.16) 查詢
2. 或從 ERP UI 手動記錄所有欄位值
3. 建立完整的產品主檔對照表

---

## 臨時解決方案

### 從現有資料推測表結構

```sql
-- 根據 tfm01 和 tem01 的相似性，推測完整對照
-- tfm: fa01=編號, fa02=類型, fa03=日期, fa04=客戶...
-- tem: ea01=編號, ea02=類型, ea03=日期, ea05=大類...
```

### 建議查詢

在 SSMS 中執行：
```sql
-- 查詢任何包含 '284102' 的資料
SELECT TABLE_NAME, COLUMN_NAME
FROM INFORMATION_SCHEMA.COLUMNS c
WHERE EXISTS (
    SELECT 1 FROM sys.tables t
    INNER JOIN sys.columns sc ON t.object_id = sc.object_id
    WHERE t.name = c.TABLE_NAME
    -- 這裡需要動態 SQL 才能查值
);
```

---

## 請提供

如果你能在 ERP UI 查看 284102 的產品基本資料，請截圖或提供：

1. 產品編號
2. 產品名稱 (所有行)
3. 產品大類
4. 產品型錄
5. 產品來源
6. 國內訂價
7. 出口訂價
8. 業務成本
9. 其他所有欄位值

我可以建立完整的對照表！
