# 文檔總覽與使用指南

**檔案總數**: 13 份文檔 + 6 個腳本 + 1 個表格字典
**最後更新**: 2025-12-18

---

## 📂 檔案清單（依用途分類）

### 🌟 新手必看 (3 份)

| 順序 | 檔名 | 一句話說明 | 閱讀時間 |
|------|------|-----------|----------|
| 1 | **README.md** | 索引導航，從這裡開始 | 5 分鐘 |
| 2 | **直接注入操作指南.md** | 手把手教你怎麼注入 | 15 分鐘 |
| 3 | **完整表格字典.txt** | 925 個表格的中英文說明 | 查詢用 |

---

### 📊 表格結構參考 (3 份)

| 檔名 | 查什麼 | 何時用 |
|------|--------|--------|
| **完整資料表關聯圖.md** | 表格之間怎麼連接 | 需要理解資料流時 |
| **tfm01_tfm02_欄位說明.md** | 訂單的每個欄位是什麼 | 寫 INSERT 語句時 |
| **tdm05_產品標準BOM對照表.md** | 產品組合的欄位 | 處理 BOM 時 |

---

### 🔬 深入研究 (7 份)

| 檔名 | 研究什麼 | 適合誰看 |
|------|----------|----------|
| **00_研究總結報告.md** | 整個研究的完整過程 | 想了解全貌的人 |
| **ERP_組合機制分析報告.md** | 為什麼點選才顯示 | 想破解 UI 設計的人 |
| **074027_組合關係記錄.md** | 實際操作一個產品的完整過程 | 需要參考範例的人 |
| **產品主檔BOM結構說明.md** | 產品基本資料的結構 | 研究產品資料的人 |
| **產品主檔欄位對照表.md** | 產品主檔欄位推測 | 同上 |
| **UI查詢主檔研究報告.md** | DataSel 程式怎麼運作 | 研究查詢功能的人 |
| **DataSel查詢主檔程式說明.md** | 查詢主檔工具說明 | 使用 DataSel 的人 |

---

### 🛠️ SQL 腳本工具 (6 個)

| 檔名 | 做什麼 | 執行方式 |
|------|--------|----------|
| **auto_insert_test.sql** | 自動產生測試訂單 | SSMS 執行 |
| **calculate_bom_quantities.sql** | 計算組合需求數量 | SSMS 執行 |
| **create_product_bom.sql** | 建立產品標準 BOM | SSMS 執行 |
| **find_T16C04.sql** | 查詢訂單範例 | SSMS 執行 |
| **restore_datawin.sql** | 還原資料庫 | SSMS 執行 |
| **copy_mdf.ps1** | 複製資料庫檔案 | PowerShell 執行 |

---

## 🎯 依使用情境選擇

### 情境 A: 我完全沒概念，第一次接觸

```
第 1 步: 讀 README.md (本文檔) ⏱️ 5分鐘
第 2 步: 讀 直接注入操作指南.md ⏱️ 15分鐘
第 3 步: 執行 auto_insert_test.sql ⏱️ 5分鐘
第 4 步: 開始寫自己的 INSERT！

總時間: 25 分鐘上手
```

### 情境 B: 我要插入訂單，不知道欄位

```
第 1 步: 打開 tfm01_tfm02_欄位說明.md
第 2 步: 查表找到需要的欄位（如 fa01=編號, fb09=數量）
第 3 步: 照著 直接注入操作指南.md 的範例改
第 4 步: 執行！

總時間: 10 分鐘
```

### 情境 C: 我要處理產品組合 (BOM)

```
第 1 步: 讀 tdm05_產品標準BOM對照表.md ⏱️ 10分鐘
第 2 步: 執行 calculate_bom_quantities.sql 看效果 ⏱️ 2分鐘
第 3 步: 查 完整表格字典.txt 確認表格 ⏱️ 1分鐘
第 4 步: 照著範例寫 INSERT

總時間: 13 分鐘
```

### 情境 D: 我想知道某個表格是幹嘛的

```
第 1 步: 打開 完整表格字典.txt
第 2 步: Ctrl+F 搜尋表格名稱
第 3 步: 看中英文說明

總時間: 30 秒
```

### 情境 E: 我想完全理解整個系統

```
按順序讀完所有文檔 ⏱️ 3-4小時
```

---

## 🔑 一頁速查表

### 最重要的 3 個表格

| 表格 | 用途 | 主鍵 | 一句話 |
|------|------|------|--------|
| **tfm01** | 訂單主檔 | fa01 | 存訂單基本資料（客戶、日期等） |
| **tfm02** | 訂單明細 | (fb01,fb02) | 存品項（產品編號、數量、單價） |
| **tdm05** | 產品 BOM | (de01,de02) | 定義產品由哪些零件組成 |

### 最重要的 3 個欄位

| 欄位 | 在哪張表 | 是什麼 |
|------|----------|--------|
| **fa01** | tfm01 | S/C 訂單編號（主鍵，必須唯一） |
| **fb03** | tfm02 | 產品編號（連到 tdm05 查 BOM） |
| **fb09** | tfm02 | 訂購數量（用來計算組合需求） |

### 最重要的 3 行 SQL

```sql
-- ① 插入訂單
INSERT INTO tfm01 (fa01, fa03, fa04, ...) VALUES ('編號', '日期', '客戶', ...);

-- ② 插入品項
INSERT INTO tfm02 (fb01, fb02, fb03, fb09, ...) VALUES ('編號', 1, '產品', 數量, ...);

-- ③ 建立組合
INSERT INTO tem05 SELECT 'S', '編號', de01, de02, ... FROM tdm05 WHERE de01='產品';
```

---

## 📚 文檔詳細說明

### ⭐⭐⭐ 必讀 (90% 的人只需要這些)

#### README.md (本檔案)
**作用**: 導航索引，告訴你該看哪份文檔
**適合**: 所有人
**內容**:
- 快速導航
- 情境式閱讀建議
- 一頁速查表

#### 直接注入操作指南.md
**作用**: 實戰手冊，複製貼上就能用
**適合**: 要執行注入的人
**內容**:
- 3 步驟完整流程
- 驗證檢查清單
- 常見問題處理
- 批次注入範例

#### 完整表格字典.txt
**作用**: 925 個表格的說明書
**適合**: 想知道任何表格用途的人
**使用**:
```
1. 用記事本/VSCode 開啟
2. Ctrl+F 搜尋表格名稱
3. 看中文說明
```

---

### ⭐⭐ 常用參考 (需要查欄位時看)

#### 完整資料表關聯圖.md
**作用**: 表格關聯的地圖
**適合**: 想理解資料流的人
**內容**:
- 視覺化關聯圖
- 資料流向箭頭
- 命名規則

#### tfm01_tfm02_欄位說明.md
**作用**: 訂單欄位字典
**適合**: 寫 INSERT 語句的人
**查法**:
```
需要知道「客戶編號」是哪個欄位？
→ 搜尋「客戶」→ 找到 fa04
```

#### tdm05_產品標準BOM對照表.md
**作用**: 產品組合欄位字典
**適合**: 處理 BOM 的人
**查法**:
```
需要知道「比例」怎麼存？
→ 看表格 → de03/de04
```

---

### ⭐ 深入研究 (想完全理解的人才看)

#### 00_研究總結報告.md
- 時間軸、發現過程、問題解決

#### ERP_組合機制分析報告.md
- 破解「點選才顯示」的設計

#### 074027_組合關係記錄.md
- 一個完整案例的詳細分析

#### 其他研究報告 (4份)
- 產品主檔相關 (2份)
- 查詢主檔相關 (2份)

---

## 🎨 視覺化文檔地圖

```
                    README.md
                    (索引中心)
                        │
        ┌───────────────┼───────────────┐
        │               │               │
    快速上手        查詢參考        深入研究
        │               │               │
        ↓               ↓               ↓
  直接注入操作   完整表格字典.txt   00_研究總結
    指南.md       (925個表格)       報告.md
        │               │               │
        ↓               ↓               ↓
  auto_insert    tfm01_tfm02      ERP_組合機制
   _test.sql      _欄位說明.md     分析報告.md
                        │               │
                        ↓               ↓
                  tdm05_產品      074027_組合
                   標準BOM.md      關係記錄.md
                        │
                        ↓
                完整資料表關聯圖.md
```

---

## 💡 使用技巧

### 技巧 1: 關鍵字搜尋

不確定要看哪份文檔？

```
1. 在檔案總管搜尋框輸入關鍵字
   例如: "BOM", "組合", "欄位"

2. Windows 會幫你搜尋所有文檔內容

3. 雙擊開啟相關文檔
```

### 技巧 2: 表格名稱查詢流程

```
1. 先查 完整表格字典.txt (搜尋表格名)
   ↓ 知道用途
2. 再查對應的欄位說明 .md
   ↓ 知道欄位
3. 照著 直接注入操作指南.md 改
   ↓ 執行
```

### 技巧 3: 遇到錯誤時

```
1. 查 直接注入操作指南.md 的「常見問題」
2. 對照 074027_組合關係記錄.md 的實際案例
3. 執行 calculate_bom_quantities.sql 驗證
```

---

## 📝 文檔內容摘要

| 檔名 | 核心內容 | 關鍵字 |
|------|----------|--------|
| README.md | 索引、導航、速查 | 導航, 索引 |
| 直接注入操作指南.md | 3步驟、SQL範例、檢查清單 | INSERT, 操作, 流程 |
| 完整表格字典.txt | 925個表格說明 | 表格, 字典, 說明 |
| 完整資料表關聯圖.md | 關聯圖、資料流、命名規則 | 關聯, 流程, 架構 |
| tfm01_tfm02_欄位說明.md | 訂單所有欄位 | fa##, fb##, 欄位 |
| tdm05_產品標準BOM對照表.md | 產品BOM欄位 | de##, BOM, 組合 |
| 00_研究總結報告.md | 研究過程、發現、Q&A | 總結, 問題, 解決 |
| ERP_組合機制分析報告.md | UI設計、DLL分析 | 機制, 觸發, DLL |
| 074027_組合關係記錄.md | 實際案例完整演示 | 案例, 範例, 演示 |
| 產品主檔BOM結構說明.md | tem01 研究 | tem01, 產品主檔 |
| 產品主檔欄位對照表.md | tem01 欄位 | ea##, 產品欄位 |
| UI查詢主檔研究報告.md | DataSel 程式 | 查詢, DataSel |
| DataSel查詢主檔程式說明.md | 查詢工具說明 | 查詢, 工具 |

---

## 🎯 依目的快速跳轉

### 我想...

| 目的 | 直接看 |
|------|--------|
| 立刻開始插入訂單 | `直接注入操作指南.md` 第 7 行開始 |
| 查 fa01 是什麼 | `tfm01_tfm02_欄位說明.md` 搜尋 "fa01" |
| 查 tdm05 的用途 | `完整表格字典.txt` 搜尋 "tdm05" |
| 知道 BOM 怎麼算 | `tdm05_產品標準BOM對照表.md` 第 50 行 |
| 看完整案例 | `074027_組合關係記錄.md` 全文 |
| 理解資料流 | `完整資料表關聯圖.md` 第 15-80 行（圖） |
| 知道觸發器做什麼 | `ERP_組合機制分析報告.md` 搜尋 "觸發器" |
| 找回研究過程 | `00_研究總結報告.md` 全文 |

---

## 🔢 數字統計

| 項目 | 數量 |
|------|------|
| Markdown 文檔 | 12 份 |
| TXT 字典檔 | 1 份 |
| SQL 腳本 | 6 個 |
| PowerShell 腳本 | 1 個 |
| 已解析表格 | 925 個（完整字典） |
| 核心表格 | 10 個（深入研究） |
| 已解析欄位 | 200+ 個 |
| 實際測試案例 | 2 個（T16C04, 074027） |

---

## ✅ 完成度檢查

### 已完成 ✅

- [x] 資料庫結構完全解析
- [x] 核心表格欄位說明
- [x] 插入流程驗證成功
- [x] BOM 機制完全破解
- [x] 實際案例演示
- [x] 操作手冊建立
- [x] 表格字典匯出（925個）
- [x] 索引導航建立

### 待完成 ⏳

- [ ] 連接正式環境（需要 sa 密碼）
- [ ] 批次自動化工具開發（Python/PowerShell）
- [ ] 更多產品的 BOM 範例

---

## 🎓 名詞解釋

| 縮寫/術語 | 完整名稱 | 中文 |
|----------|----------|------|
| S/C | Sales Contract | 銷售合約/訂單 |
| BOM | Bill of Materials | 物料清單/組合關係 |
| ERP | Enterprise Resource Planning | 企業資源規劃 |
| SSMS | SQL Server Management Studio | SQL 管理工具 |
| MDF | Master Database File | 主資料庫檔案 |
| DLL | Dynamic Link Library | 動態連結庫 |
| UI | User Interface | 使用者介面 |
| ETD | Estimated Time of Departure | 預計出貨日 |
| FOB | Free On Board | 船上交貨（貿易條件） |

---

## 📞 快速支援

### 常見問題

Q: 我要改哪個檔案？
A: 不用改，直接複製 SQL 範例，改數值就能用

Q: 檔案太多，看哪個？
A: 只看 3 個：README (本檔) + 直接注入操作指南 + 完整表格字典

Q: 怎麼知道欄位名稱？
A: 查 tfm01_tfm02_欄位說明.md 或 完整表格字典.txt

Q: 測試環境在哪？
A: 本地 SSMS → localhost → DATAWIN 資料庫

Q: 正式環境怎麼連？
A: Server: 192.168.252.16, Database: datawin, User: sa (需要密碼)

---

**從 README.md 開始，15 分鐘就能上手！** 🚀
